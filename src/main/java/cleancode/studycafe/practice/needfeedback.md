# 고민 사항

### Pass데이터들을 VO로 취급해 보는 과정에서

- 사용자 입력이 아닌 파일로 데이터들인데 VO로 해본 이유
  - 검증이나 동등성 등을 요구한다고 생각해서
  - 타당한지/개선할점 궁금합니다
  - duration, price등을 VO로 하는 것은 너무 과도한 것 같아서 하지 않았는데 맞는지
- pass데이터들을 모두 가져온 후에 본격적인 로직이 동작하는 것이 더 나은 방향이라고 생각해서 그렇게 해보았습니다
  - 타당한지/개선할점 궁금합니다
- 검증로직에서
  - pass의 데이터들에 대한 검증이 하나의 메서드에서 한꺼번에 일어나는 것이 좋다고 생각했습니다
  - 그 결과 enum타입인 AccessPassType을 검증 할 때 valueOf을 오버라이딩 할 수 없다는 특성 때문에 약간 억지스러워 보일 수 있는 방법을 사용하게됨
  - 괜찮은 방법인지/개선할점 궁금합니다

### null을 없애는 과정에서

- 곳곳에서 lockerpass를 null로 리턴하지 않기 위해
  - 새로운 도메인 개념(LockerPassType), 상태값(inUse), 상수(UNAVAILABLE_PROPERTY)를 사용하게 되었습니다.
  - 그 결과 한개의 추가 생성자, 한개의 추가 정적 팩토리 메서드가 사용되었습니다
  - 메서드 이름 등에 신경을 많이 써서 이해할만한 정도 라고 생각되는데 적당한지 궁금합니다 / 그냥 새로운 도메인 등등을 추가 하지 않고 Optional로 감싸는 것이 더 타당한지 궁금합니다
  - duration과 price를 UNAVAILABLE_PROPERTY로 초기화 하는 위치가 적당한지 궁금합니다
  - LockerPass가 LockerPassType을 그냥 가지고 있는 것 도 좋을수 도 있다고 생각되는데 enum에서 enum끼리 관계를 가지고 있는 것과 전자의 방법 중 어느 것이 더 이해나 확장이 편할 지 궁금합니다

- lockerPass를 vo로 만든다고 했는데 상태를 가진다는 것이 모순이라는 생각이 문득 들어서 새로운 객체를 리턴하는 형태로 바꾸어 보았습니다
  - https://github.com/aammddkkzxc/readable-code/commit/9787f54290904e4eafb4203e368ae81154a63823
  - 새로운 생성자와 정적 팩토리 메서드가 생겼네요.. 복잡도가 증가한 것 같아 아무래도 Optional을 쓰는 것이 좋을 것 같다고 생각이 드네요..
  - 생성자와 정적 팩토리 메서드가 많은건 당연히 안좋겠죠..?

### 그 외에 궁금한 것들
- 일급 컬렉션 두개를 한 클래스에 넣는 방법은 너무 과할까요? (AccessPasses, LockerPasses 두개를 필드로 갖는 클래스)
  - PassMachine에서 모든 Pass데이터들을 불러들이고 검증하는 과정을 추출하고 싶은데 좋은 방법이 잘 떠오르지 않습니다
- 요금이 pass를 통해서 나와서 pass하위 패키지에 뒀는데 분리해야할지
- use, available, proceed, select, start 등등의 단어가 개발에서 자주 쓰이는지 혹은 어색하지 않은지
  - get~ set~를 메서드 앞에 쓰는 것은 getter나 setter를 연상할 수 있다고 생각해서 약간 병적으로 피했는데 너무 과한건지
- 추가 다른 모든 부족한 사항들